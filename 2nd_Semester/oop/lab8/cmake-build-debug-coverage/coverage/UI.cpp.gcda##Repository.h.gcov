        -:    0:Source:C:/eu/ubb/2nd_Semester/oop/lab8/Repository.h
        -:    0:Graph:C:\eu\ubb\2nd_Semester\oop\lab8\cmake-build-debug-coverage\CMakeFiles\lab6.dir\UI.cpp.gcno
        -:    0:Data:C:\eu\ubb\2nd_Semester\oop\lab8\cmake-build-debug-coverage\CMakeFiles\lab6.dir\UI.cpp.gcda
        -:    0:Runs:1
        -:    1://
        -:    2:// Created by sorn on 01-Apr-24.
        -:    3://
        -:    4:
        -:    5:#ifndef LAB6_REPOSITORY_H
        -:    6:#define LAB6_REPOSITORY_H
        -:    7:#include"Domain.h"
        -:    8:#include<vector>
        -:    9:using std::vector;
        -:   10:class RepoException {
        -:   11:private:
        -:   12:    string errorMsg;
        -:   13:public:
        -:   14:    RepoException(string errorMsg) :errorMsg{ errorMsg } {};
function _ZN13RepoException15getErrorMessageB5cxx11Ev called 2 returned 100% blocks executed 100%
        2:   15:    string getErrorMessage() {
        2:   16:        return this->errorMsg;
        2:   16-block  0
call    0 returned 2
        -:   17:    }
        -:   18:};
        -:   19:class DisciplinaRepository{
        -:   20:    private:
        -:   21:    vector<Disciplina> allDisciplina;
        -:   22:    public:
        -:   23:    DisciplinaRepository()=default;
        -:   24:
        -:   25:    DisciplinaRepository(const DisciplinaRepository& repo)=delete; //we don't want to copy the repo
        -:   26:
        -:   27:    virtual ~DisciplinaRepository()=default;
        -:   28:    //verifica daca exista o disciplina
        -:   29:    //param disci: Disciplina
        -:   30:    bool Exists(const Disciplina& disci);
        -:   31:    //adauga o disciplina
        -:   32:    //param disci: Disciplina
        -:   33:    virtual void Store(const Disciplina& disci);
        -:   34:    //modifica o disciplina
        -:   35:    //param denumire: string
        -:   36:    //param ore:int
        -:   37:    //param tip:string
        -:   38:    //param cadruDidactic: string
        -:   39:    virtual void Modify(const string& denumire, int ore, const string& tip, const string& cadruDidactic);
        -:   40:    //cauta o disciplina si o returneaza
        -:   41:    //param Denumire:string
        -:   42:    //param Profesor:string
        -:   43:    Disciplina& find(const string& Denumire, const string& Profesor);
        -:   44:    //sterge o disciplina
        -:   45:    //param disci:Disciplina
        -:   46:    virtual void Delete(const Disciplina& disci);
        -:   47:    //returneaza un vector cu toate Disciplinele
        -:   48:    const vector<Disciplina>& getAllDiscipline();
        -:   49:};
        -:   50:
        -:   51:class DisciplinaRepoFile:public DisciplinaRepository{
        -:   52:private:
        -:   53:    std::string filename;
        -:   54:    void loadFromFile();
        -:   55:    void writeToFile();
        -:   56:public:
        -:   57:    DisciplinaRepoFile(std::string filename):DisciplinaRepository(),filename{filename}{
        -:   58:        loadFromFile();
        -:   59:    };
        -:   60:    void Store(const Disciplina& disci) override{
        -:   61:        DisciplinaRepository::Store(disci);
        -:   62:        writeToFile();
        -:   63:    }
        -:   64:    void Modify(const string& denumire, int ore, const string& tip, const string& cadruDidactic) override{
        -:   65:        DisciplinaRepository::Modify(denumire,ore,tip,cadruDidactic);
        -:   66:        writeToFile();
        -:   67:    }
        -:   68:    void Delete(const Disciplina& disci) override{
        -:   69:        DisciplinaRepository::Delete(disci);
        -:   70:        writeToFile();
        -:   71:    }
        -:   72:};
        -:   73:
        -:   74:void testeRepo();
        -:   75:#endif //LAB6_REPOSITORY_H
